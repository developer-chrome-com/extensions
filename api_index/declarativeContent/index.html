<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">
    <link type="image/ico" rel="icon" href="/extensions//www.google.com/images/icons/product/chrome-32.png">

    <link href="/extensions/static/css/out/site.css" rel="stylesheet" type="text/css">
    <link href="/extensions/static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="/extensions/static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro' rel='stylesheet' type='text/css'>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41980257-1', 'auto');
  ga('create', 'UA-49880327-5', {'name': 'chromeDocs'});
  ga('send', 'pageview');
  ga('chromeDocs.send', 'pageview');

</script>

    <title>chrome.declarativeContent - Google Chrome</title>
  </head>

  <body>
    <div class="gc-container">
    <a href="#gc-pagecontent" class="element-invisible element-focusable">Skip to main content</a>

    <header id="topnav" role="banner">
      <div id="logo">
        <a href="/">
          <img alt="Chrome: developer" src="/static/images/chrome-logo_2x.png">
        </a>
        <span class="collase-icon"><!-- <img src="/static/images/burger-icon.png" class="collase-icon">--></span>
      </div>
      <nav id="fatnav" role="navigation">
      <ul>
          <li class="pillar">
            <span class="toplevel">Chrome</span>
            <ul class="expandee">
                <li class="submenu">Extend the Browser
                  <ul>
                      <li class="category">
                        <a href="/extensions">
                        What are Extensions?
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/extensions/getstarted">
                        Get Started Tutorial
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/extensions/overview">
                        Overview
                        </a>
                        <ul>
                            <li><a href="/extensions/manifest">Manifest Format</a>
                            </li>
                            <li><a href="/extensions/background_pages">Manage Events</a>
                            </li>
                            <li><a href="/extensions/user_interface">Design User Interface</a>
                            </li>
                            <li><a href="/extensions/content_scripts">Content Scripts</a>
                            </li>
                            <li><a href="/extensions/permission_warnings">Declare Permissions and Warn Users</a>
                            </li>
                            <li><a href="/extensions/options">Give Users Options</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/extensions/devguide">
                        Developer Guide
                        </a>
                        <ul>
                            <li><a href="/extensions/performance">Reach Peak Performance</a>
                            </li>
                            <li><a href="/extensions/user_privacy">Protect User Privacy</a>
                            </li>
                            <li><a href="/extensions/security">Stay Secure</a>
                            </li>
                            <li><a href="/extensions/tut_debugging">Debugging</a>
                            </li>
                            <li><a href="/extensions/tut_oauth">OAuth</a>
                            </li>
                            <li><a href="/extensions/a11y">Accessibility</a>
                            </li>
                            <li><a href="/extensions/contentSecurityPolicy">Content Security Policy</a>
                            </li>
                            <li><a href="/extensions/xhr">Cross-Origin XHR</a>
                            </li>
                            <li><a href="/extensions/i18n">Internationalization</a>
                            </li>
                            <li><a href="/extensions/messaging">Message Passing</a>
                            </li>
                            <li><a href="/extensions/nativeMessaging">Native Messaging</a>
                            </li>
                            <li><a href="/extensions/match_patterns">Match Patterns</a>
                            </li>
                            <li><a href="/extensions/single_purpose">Extension Quality Guidelines FAQ</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/extensions/samples">
                        Samples
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/extensions/faq">
                        Help
                        </a>
                        <ul>
                            <li><a href="/extensions/faq">FAQ</a>
                            </li>
                            <li><a href="/extensions/whats_new">What's New?</a>
                            </li>
                            <li><a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-extensions">Google Groups</a>
                            </li>
                            <li><a href="http://stackoverflow.com/tags/google-chrome-extension/info">Stack Overflow</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Web Store Publishing and Distribution
                  <ul>
                      <li class="category">
                        <a href="/webstore">
                        Distribution Overview
                        </a>
                        <ul>
                            <li><a href="/webstore">Distributing Products Built for Chrome</a>
                            </li>
                            <li><a href="/webstore/about_webstore">What Is the Chrome Web Store?</a>
                            </li>
                            <li><a href="/webstore/overview">What Can You Publish?</a>
                            </li>
                            <li><a href="/webstore/get_started_simple">Tutorial: Getting Started</a>
                            </li>
                            <li><a href="/webstore/samples">Samples</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/extensions/hosting">
                        Publish Extensions
                        </a>
                        <ul>
                            <li><a href="/extensions/hosting">Hosting and Updating</a>
                            </li>
                            <li><a href="/extensions/hosting_changes">Hosting Policy Changes</a>
                            </li>
                            <li><a href="/extensions/tut_analytics">Google Analytics</a>
                            </li>
                            <li><a href="/extensions/themes">Publishing Themes</a>
                            </li>
                            <li><a href="/extensions/external_extensions">Other Deployment Options</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/webstore/money">
                        Monetizing
                        </a>
                        <ul>
                            <li><a href="/webstore/money">Monetizing Your App</a>
                            </li>
                            <li><a href="/webstore/identify_user">Using Google Accounts</a>
                            </li>
                            <li><a href="/webstore/one_time_payments">One-Time Payments</a>
                            </li>
                            <li><a href="/webstore/pricing">Pricing</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/webstore/branding">
                        Branding
                        </a>
                        <ul>
                            <li><a href="/webstore/branding">Branding Guidelines</a>
                            </li>
                            <li><a href="/webstore/images">Supplying Images</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/webstore/best_practices">
                        Help
                        </a>
                        <ul>
                            <li><a href="/webstore/best_practices">Best Practices</a>
                            </li>
                            <li><a href="/webstore/faq">FAQ</a>
                            </li>
                            <li><a href="http://stackoverflow.com/questions/tagged/google-chrome-app">Stack Overflow</a>
                            </li>
                            <li><a href="/webstore/articles">Articles</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Mobile Chrome
                  <ul>
                      <li class="category">
                        <a href="/multidevice">
                        Chrome for a Multi-Device World
                        </a>
                        <ul>
                            <li><a href="/multidevice/user-agent">User Agents</a>
                            </li>
                            <li><a href="/multidevice/android/customtabs">Chrome Custom Tabs</a>
                            </li>
                            <li><a href="/devtools/docs/mobile-emulation">Mobile Emulation</a>
                            </li>
                            <li><a href="/devtools/docs/remote-debugging">Remote Debugging</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/multidevice/android/overview">
                        Chrome for Android
                        </a>
                        <ul>
                            <li><a href="/multidevice/android/overview">Overview</a>
                            </li>
                            <li><a href="/multidevice/android/intents">Android Intents with Chrome</a>
                            </li>
                            <li><a href="/multidevice/android/customtabs">Chrome Custom Tabs</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/multidevice/webview/overview">
                        Chrome WebView
                        </a>
                        <ul>
                            <li><a href="/multidevice/webview/overview">WebView for Android</a>
                            </li>
                            <li><a href="/multidevice/webview/gettingstarted">Getting Started</a>
                            </li>
                            <li><a href="/multidevice/webview/pixelperfect">Pixel-Perfect UI</a>
                            </li>
                            <li><a href="/multidevice/webview/workflow">WebView Workflow</a>
                            </li>
                            <li><a href="/multidevice/webview/tipsandtricks">Tips &amp; Tricks</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/multidevice/ios/links">
                        Chrome for iOS
                        </a>
                        <ul>
                            <li><a href="/multidevice/ios/links">Opening Links in Chrome</a>
                            </li>
                            <li><a href="/multidevice/user-agent#chrome_for_ios_user_agent">User Agent</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/multidevice/faq">
                        FAQ
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
          <li class="pillar">
            <span class="toplevel">Chrome OS</span>
            <ul class="expandee">
                <li class="submenu">Apps
                  <ul>
                      <li class="category">
                        <a href="/apps/about_apps">
                        Learn Basics
                        </a>
                        <ul>
                            <li><a href="/apps/about_apps">What Are Chrome Apps?</a>
                            </li>
                            <li><a href="/extensions/single_purpose">Extension Quality Guidelines FAQ</a>
                            </li>
                            <li><a href="/apps/first_app">Create Your First App</a>
                            </li>
                            <li><a href="/apps/app_architecture">App Architecture</a>
                            </li>
                            <li><a href="/apps/app_lifecycle">App Lifecycle</a>
                            </li>
                            <li><a href="/apps/contentSecurityPolicy">Content Security Policy</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/apps/app_codelab_intro">
                        Learn with Codelab
                        </a>
                        <ul>
                            <li><a href="/apps/app_codelab_intro">Intro - Build Chrome App</a>
                            </li>
                            <li><a href="/apps/app_codelab_basics">1 - Create and run a Chrome App</a>
                            </li>
                            <li><a href="/apps/app_codelab_import_todomvc">2 - Import an existing web app</a>
                            </li>
                            <li><a href="/apps/app_codelab_alarms">3 - Add alarms and notifications</a>
                            </li>
                            <li><a href="/apps/app_codelab_webview">4 - Open external links with a webview</a>
                            </li>
                            <li><a href="/apps/app_codelab_images">5 - Add images from the web</a>
                            </li>
                            <li><a href="/apps/app_codelab_filesystem">6 - Export todos to the filesystem</a>
                            </li>
                            <li><a href="/apps/app_codelab_publish">7 - Publish your app</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/apps/chrome_apps_on_mobile">
                        Run Chrome Apps on Mobile
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/apps/samples">
                        Samples
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/apps/offline_apps">
                        Develop in the Cloud
                        </a>
                        <ul>
                            <li><a href="/apps/offline_apps">Offline First</a>
                            </li>
                            <li><a href="/apps/app_external">Handling External Content</a>
                            </li>
                            <li><a href="/apps/app_storage">Storing Data</a>
                            </li>
                            <li><a href="/apps/offline_storage">Managing Offline Storage</a>
                            </li>
                            <li><a href="/apps/nativeMessaging">Native Messaging</a>
                            </li>
                            <li><a href="/apps/richNotifications">Rich Notifications</a>
                            </li>
                            <li><a href="/apps/app_identity">User Authentication</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/apps/app_usb">
                        User Low-Level System Services
                        </a>
                        <ul>
                            <li><a href="/apps/app_usb">USB</a>
                            </li>
                            <li><a href="/apps/app_serial">Serial</a>
                            </li>
                            <li><a href="/apps/app_network">Network Communications</a>
                            </li>
                            <li><a href="/apps/app_bluetooth">Bluetooth</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/apps/app_frameworks">
                        MVC Architecture &amp; Frameworks
                        </a>
                        <ul>
                            <li><a href="/apps/app_frameworks">About MVC Architecture</a>
                            </li>
                            <li><a href="/apps/angular_framework">Build Apps with AngularJS</a>
                            </li>
                            <li><a href="/apps/sencha_framework">Build Apps with SenchaJS</a>
                            </li>
                            <li><a href="/apps/game_engines">Game Engines</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/apps/publish_app">
                        Distribute Apps
                        </a>
                        <ul>
                            <li><a href="/apps/publish_app">Publish Your App</a>
                            </li>
                            <li><a href="/webstore/payments-iap">Monetize Your App</a>
                            </li>
                            <li><a href="/webstore/one_time_payments">One-Time Payments</a>
                            </li>
                            <li><a href="/apps/analytics">Analytics</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/apps/manifest">
                        Chrome Platform APIs
                        </a>
                        <ul>
                            <li><a href="/apps/manifest">Manifest File Format</a>
                            </li>
                            <li><a href="/apps/tags/webview">Webview Tag</a>
                            </li>
                            <li><a href="/apps/tags/appview">Appview Tag</a>
                            </li>
                            <li><a href="/apps/api_other">Web APIs</a>
                            </li>
                            <li><a href="/apps/app_deprecated">Disabled Web Features</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/apps/faq">
                        Help
                        </a>
                        <ul>
                            <li><a href="/apps/faq">FAQ</a>
                            </li>
                            <li><a href="http://stackoverflow.com/questions/tagged/google-chrome-app">Stack Overflow</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Native Client
                  <ul>
                      <li class="category">
                        <a href="/native-client">
                        Learn Basics
                        </a>
                        <ul>
                            <li><a href="/native-client/overview">Technical Overview</a>
                            </li>
                            <li><a href="/native-client/nacl-and-pnacl">NaCl and PNaCl</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/native-client/migration">
                        WebAssembly Migration Guide
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/native-client/sdk/download">
                        Download the SDK
                        </a>
                        <ul>
                            <li><a href="/native-client/sdk/download">Download the Native Client SDK</a>
                            </li>
                            <li><a href="/native-client/sdk/examples">Examples</a>
                            </li>
                            <li><a href="/native-client/sdk/release-notes">Release Notes</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/native-client/devguide/tutorial/tutorial-part1">
                        Tutorial
                        </a>
                        <ul>
                            <li><a href="/native-client/devguide/tutorial/tutorial-part1">Part 1: Simple PNaCl Web App</a>
                            </li>
                            <li><a href="/native-client/devguide/tutorial/tutorial-part2">Part 2: SDK Build System and Chrome Apps</a>
                            </li>
                            <li><a href="/native-client/cds2014">Chrome Dev Summit 2014 - Codelabs</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/native-client/devguide/devcycle/building">
                        Development Cycle
                        </a>
                        <ul>
                            <li><a href="/native-client/devguide/devcycle/building">Building</a>
                            </li>
                            <li><a href="/native-client/devguide/devcycle/running">Running</a>
                            </li>
                            <li><a href="/native-client/devguide/devcycle/debugging">Debugging</a>
                            </li>
                            <li><a href="/native-client/devguide/devcycle/vs-addin">Debugging with Visual Studio</a>
                            </li>
                            <li><a href="/native-client/devguide/devcycle/dynamic-loading">Dynamic Linking and Loading with GlibC</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/native-client/devguide/coding/application-structure">
                        Coding Your Application
                        </a>
                        <ul>
                            <li><a href="/native-client/devguide/coding/application-structure">Application Structure</a>
                            </li>
                            <li><a href="/native-client/devguide/coding/native-client-modules">Native Client Modules</a>
                            </li>
                            <li><a href="/native-client/devguide/coding/3D-graphics">3D Graphics</a>
                            </li>
                            <li><a href="/native-client/devguide/coding/audio">Audio</a>
                            </li>
                            <li><a href="/native-client/devguide/coding/file-io">File I/O</a>
                            </li>
                            <li><a href="/native-client/devguide/coding/nacl_io">The nacl_io Library</a>
                            </li>
                            <li><a href="/native-client/devguide/coding/message-system">Messaging System</a>
                            </li>
                            <li><a href="/native-client/devguide/coding/progress-events">Progress Events</a>
                            </li>
                            <li><a href="/native-client/devguide/coding/url-loading">URL Loading</a>
                            </li>
                            <li><a href="/native-client/devguide/coding/view-focus-input-events">View Change, Focus, &amp; Input Events</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/native-client/devguide/distributing">
                        Distribute Your Apps
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/native-client/c-api">
                        Pepper API Reference
                        </a>
                        <ul>
                            <li><a href="/native-client/c-api">Pepper C API (Stable)</a>
                            </li>
                            <li><a href="/native-client/cpp-api">Pepper C++ API (Stable)</a>
                            </li>
                            <li><a href="/native-client/c-api-beta">Pepper C API (Beta)</a>
                            </li>
                            <li><a href="/native-client/cpp-api-beta">Pepper C++ API (Beta)</a>
                            </li>
                            <li><a href="/native-client/c-api-dev">Pepper C API (Dev)</a>
                            </li>
                            <li><a href="/native-client/cpp-api-dev">Pepper C++ API (Dev)</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/native-client/glossary">
                        Additional Reference &amp; Versions
                        </a>
                        <ul>
                            <li><a href="/native-client/glossary">Glossary</a>
                            </li>
                            <li><a href="/native-client/reference/ideas">Contributor Ideas</a>
                            </li>
                            <li><a href="/native-client/reference/nacl-manifest-format">Native Client Manifest (nmf) Format</a>
                            </li>
                            <li><a href="/native-client/reference/pnacl-bitcode-manual">Contents of PNaCl Bitcode Files</a>
                            </li>
                            <li><a href="/native-client/reference/pnacl-bitcode-abi">PNaCl Bitcode Reference Manual</a>
                            </li>
                            <li><a href="/native-client/reference/pnacl-undefined-behavior">PNaCl Undefined Behavior</a>
                            </li>
                            <li><a href="/native-client/reference/pnacl-c-cpp-language-support">PNaCl C/C++ Language Support</a>
                            </li>
                            <li><a href="/native-client/reference/sandbox_internals/index">Sandbox Internals</a>
                            </li>
                            <li><a href="/native-client/reference/design-docs">Design Documents</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="/native-client/faq">
                        Help
                        </a>
                        <ul>
                            <li><a href="/native-client/faq">FAQ</a>
                            </li>
                            <li><a href="/native-client/help">Forums &amp; Issues Tracker</a>
                            </li>
                            <li><a href="/native-client/publications-and-presentations">Publications &amp; Presentations</a>
                            </li>
                            <li><a href="/native-client/community/security-contest/index">Security Contest Archive</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
          <li class="pillar">
            <span class="toplevel">Chrome APIs</span>
            <ul class="expandee">
                <li class="submenu">Extensions APIs
                  <ul>
                      <li class="category">
                        <a href="/extensions/api_index">
                        Extension APIs
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Apps APIs
                  <ul>
                      <li class="category">
                        <a href="/apps/api_index">
                        Apps APIs
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
        <li id="search">
          <img src="/static/images/search.png">
          <div class="expandee">
      
      <!-- override search styles set globally by site.css -->
      <style>
      .gsc-above-wrapper-area, .gsc-result-info {
        font-size: 11px;
      }
      .gs-webResult div, .gs-result div {
        line-height: initial;
      }
      .gs-webResult a, .gs-result a {
        text-decoration: none;
      }
      td.gcsc-branding-img-noclear, .gcsc-branding-img-noclear a {
        width: 51px;
        height: 15px;
        vertical-align: top;
      }
      .gsc-table-result, .gsc-thumbnail-inside, .gsc-url-top {
        padding: 0;
      }
      .gsc-control-cse tr, .gsc-control-cse td, .gsc-control-cse th {
       padding: inherit;
       border: none;
      }
      .gsc-control-cse {
        white-space: normal;
        border: none;
        padding: 0 1em;
      }
      #search .gsc-control-cse img {
        height: inherit;
        width: inherit;
      }
      .gsc-control-cse table {
        margin: initial;
      }
      .gsc-control-cse * {
        box-sizing: initial;
        -webkit-box-sizing: initial;
        -moz-box-sizing: initial;
      }
      #fatnav .expandee .gsc-control-cse a {
       padding: 0;
       color: inherit;
      }
      </style>
      
            <form id="chrome-docs-cse-search-form" action="https://google.com/cse">
              <input type="search" id="chrome-docs-cse-input" name="q" placeholder="What are you looking for?">
              <input type="hidden" name="cx" value="010997258251033819707:7owyldxmpkc" />
              <input type="hidden" name="ie" value="UTF-8" />
            </form>
            <gcse:searchresults-only gname="results"></gcse:searchresults-only>
          </div>
        </li>
      </ul>
      </nav>
          </header>

    <main id="gc-pagecontent" role="main">


<article>
  <div itemprop="articleBody" class="api">
    <h1>chrome.declarativeContent</h1>
    <table class="intro" id="intro">
      <tr>
        <td class="title">Description:</td>
        <td>
            Use the <code>chrome.declarativeContent</code> API to take actions depending on the content of a page, without requiring permission to read the page's content.
                    <br>
        </td>
      </tr>
      <tr>
        <td class="title">Availability:</td>
        <td>
            Since Chrome 33.
            <br>
        </td>
      </tr>
      <tr>
        <td class="title">Permissions:</td>
        <td>
            <span class="code">
            "declarativeContent"
                    </span>
            <br>
        </td>
      </tr>
      <tr>
        <td class="title">Learn More:</td>
        <td>
            <a href="events">
            Declarative Events
                    </a>
            <br>
            <a href="activeTab">
            activeTab
                    </a>
            <br>
        </td>
      </tr>
    </table>
    <section>
      <h2 id="usage">Usage</h2>
      
      <p>
      The Declarative Content API allows you to show your extension's
      <a href=/extensions/pageAction>page action</a> depending on the URL of a web page and
      the CSS selectors its content matches, without needing to take a <a
      href="declare_permissions#host-permissions">host permission</a> or
      inject a <a href="content_scripts">content script</a>.  Use the
      <a href="activeTab">activeTab</a> permission in order to be able
      to interact with a page after the user clicks on your page action.
      </p>
      
      <p>
      If you need more precise control over when your page action appears or
      you need to change its appearance to match the current tab before the
      user clicks on it, you'll have to keep using the <a href=/extensions/pageAction>pageAction</a> API.
      </p>
      
      <h2 id="rules">Rules</h2>
      
      <p>As a <a href="events#declarative">declarative API</a>, this
      API lets you register rules on the
      <code><a href=/extensions/declarativeContent#event-onPageChanged>onPageChanged</a></code> <a href=/extensions/events#type-Event>event</a> object which take an
      action (<code><a href=/extensions/declarativeContent#type-ShowPageAction>ShowPageAction</a></code> and <code><a href=/extensions/declarativeContent#type-SetIcon>SetIcon</a></code>) when
      a set of conditions, represented as a
      <code><a href=/extensions/declarativeContent#type-PageStateMatcher>PageStateMatcher</a></code>, are met.
      </p>
      
      <p>
      The <code><a href=/extensions/declarativeContent#type-PageStateMatcher>PageStateMatcher</a></code> matches web pages if and only
      if all listed criteria are met. The following rule would show a page
      action for pages on <code>https://www.google.com/</code> when a
      password field is present on it:
      </p>
      
      <pre>
      var rule1 = {
        conditions: [
          new <a href=/extensions/declarativeContent#type-PageStateMatcher>chrome.declarativeContent.PageStateMatcher</a>({
            <a href=/extensions/declarativeContent#property-PageStateMatcher-pageUrl>pageUrl</a>: { <a href=/extensions/events#property-UrlFilter-hostEquals>hostEquals</a>: 'www.google.com', <a href=/extensions/events#property-UrlFilter-schemes>schemes</a>: ['https'] },
            <a href=/extensions/declarativeContent#property-PageStateMatcher-css>css</a>: ["input[type='password']"]
          })
        ],
        actions: [ new <a href=/extensions/declarativeContent#type-ShowPageAction>chrome.declarativeContent.ShowPageAction</a>() ]
      };
      </pre>
      
      <p class="note">
      <strong>Note:</strong> All conditions and actions are created via a constructor
      as shown in the example above.
      </p>
      
      <p>
      In order to also show a page action for sites with a video, you can
      add a second condition, as each condition is sufficient to trigger all
      specified actions:
      </p>
      <pre>
      var rule2 = {
        conditions: [
          new <a href=/extensions/declarativeContent#type-PageStateMatcher>chrome.declarativeContent.PageStateMatcher</a>({
            <a href=/extensions/declarativeContent#property-PageStateMatcher-pageUrl>pageUrl</a>: { <a href=/extensions/events#property-UrlFilter-hostEquals>hostEquals</a>: 'www.google.com', <a href=/extensions/events#property-UrlFilter-schemes>schemes</a>: ['https'] },
            <a href=/extensions/declarativeContent#property-PageStateMatcher-css>css</a>: ["input[type='password']"]
          })<strong>,
          new <a href=/extensions/declarativeContent#type-PageStateMatcher>chrome.declarativeContent.PageStateMatcher</a>({
            <a href=/extensions/declarativeContent#property-PageStateMatcher-css>css</a>: ["video"]
          })</strong>
        ],
        actions: [ new <a href=/extensions/declarativeContent#type-ShowPageAction>chrome.declarativeContent.ShowPageAction</a>() ]
      };
      </pre>
      
      <p>
      <a href="events#addingrules">Added rules</a> are saved across
      browser restarts, so register them as follows:
      </p>
      <pre>
      <a href=/extensions/runtime#event-onInstalled>chrome.runtime.onInstalled</a>.addListener(function(details) {
        <a href=/extensions/declarativeContent#event-onPageChanged>chrome.declarativeContent.onPageChanged</a>.<a href="events#removingrules">removeRules</a>(undefined, function() {
          <a href=/extensions/declarativeContent#event-onPageChanged>chrome.declarativeContent.onPageChanged</a>.<a href="events#addingrules">addRules</a>([rule2]);
        });
      });
      </pre>
      
      <p class="note">
      <strong>Note:</strong> You should always register or unregister rules in bulk
      rather than individually because each of these operations recreates internal
      data structures.  This re-creation is computationally expensive but facilitates
      a faster matching algorithm.
      </p>
      
      <p>
      Combine the above rule with the <a href="activeTab">activeTab</a>
      permission to create an extension that doesn't need any install-time
      permissions but can invite the user to click its page action on
      relevant pages and can run on those pages when the user clicks the
      page action.
      </p>
      
      <h2 id="css-matching">CSS Matching</h2>
      
      <p><a href=/extensions/declarativeContent#property-PageStateMatcher-css>PageStateMatcher.css</a> conditions must be
      <i><a href="http://www.w3.org/TR/selectors4/#compound">compound selectors</a></i>,
      meaning that you can't
      include <a href="http://www.w3.org/community/webed/wiki/CSS/Selectors#Combinators">combinators</a>
      like whitespace or "<code>&gt;</code>" in your selectors.  This helps Chrome
      match the selectors more efficiently.</p>
      
      <table>
        <tr><th>Compound Selectors (OK)</th><th>Complex Selectors (Not OK)</th></tr>
        <tr><td><code>a</code></td><td><code>div p</code></td></tr>
        <tr><td><code>iframe.special[src^='http']</code></td><td><code>p>span.highlight</code></td></tr>
        <tr><td><code>ns|*</code></td><td><code>p + ol</code></td></tr>
        <tr><td><code>#abcd:checked</code></td><td><code>p::first-line</code></td></tr>
      </table>
      
      <p>CSS conditions only match displayed elements: if an element that matches your
      selector is <code>display:none</code> or one of its parent elements
      is <code>display:none</code>, it doesn't cause the condition to match.  Elements
      styled with <code>visibility:hidden</code>, positioned off-screen, or hidden by
      other elements can still make your condition match.</p>
      
      
      <h2 id="css-matching">Bookmarked State Matching</h2>
      
      <p>The <a href=/extensions/declarativeContent#property-PageStateMatcher-isBookmarked>PageStateMatcher.isBookmarked</a> condition allows matching of the
      bookmarked state of the current URL in the user's profile. To make use of this
      condition the "bookmarks" permission must be declared in
      the <a href="manifest">extension manifest</a></p>
    </section>
    <section id="toc">
    <h2>Summary</h2>
    <table class="api-summary">
      <tr>
        <tr><th colspan="2">Types</th></tr>
          <tr><td><a href="#type-PageStateMatcherInstanceType">PageStateMatcherInstanceType</a></td></tr>
          <tr><td><a href="#type-ShowPageActionInstanceType">ShowPageActionInstanceType</a></td></tr>
          <tr><td><a href="#type-SetIconInstanceType">SetIconInstanceType</a></td></tr>
          <tr><td><a href="#type-RequestContentScriptInstanceType">RequestContentScriptInstanceType</a></td></tr>
          <tr><td><a href="#type-PageStateMatcher">PageStateMatcher</a></td></tr>
          <tr><td><a href="#type-ShowPageAction">ShowPageAction</a></td></tr>
          <tr><td><a href="#type-SetIcon">SetIcon</a></td></tr>
          <tr><td><a href="#type-RequestContentScript">RequestContentScript</a></td></tr>
        <tr><th colspan="2">Events</th></tr>
          <tr><td><a href="#event-onPageChanged">onPageChanged</a></td></tr>
    </table>
    </section>
    <section>
      <div class="api-reference">
          <h2 id="types">Types</h2>
            <div>
              <h3 id="type-PageStateMatcherInstanceType">PageStateMatcherInstanceType</h3>
              <table>
                <tr><th>Enum</th></tr>
                <tr><td>
                        <code>"declarativeContent.PageStateMatcher"</code>
                </td></tr>
              </table>
            </div>
            <div>
              <h3 id="type-ShowPageActionInstanceType">ShowPageActionInstanceType</h3>
              <table>
                <tr><th>Enum</th></tr>
                <tr><td>
                        <code>"declarativeContent.ShowPageAction"</code>
                </td></tr>
              </table>
            </div>
            <div>
              <h3 id="type-SetIconInstanceType">SetIconInstanceType</h3>
              <table>
                <tr><th>Enum</th></tr>
                <tr><td>
                        <code>"declarativeContent.SetIcon"</code>
                </td></tr>
              </table>
            </div>
            <div>
              <h3 id="type-RequestContentScriptInstanceType">RequestContentScriptInstanceType</h3>
              <table>
                <tr><th>Enum</th></tr>
                <tr><td>
                        <code>"declarativeContent.RequestContentScript"</code>
                </td></tr>
              </table>
            </div>
            <div>
              <h3 id="type-PageStateMatcher">PageStateMatcher</h3>
              <table>
                <dd>Matches the state of a web page by various criteria.</dd>
                  <tr><th colspan="3" id="PageStateMatcher-properties">properties</th></tr>
                  <tr id="property-PageStateMatcher-pageUrl">
                    <td>object</td>
                    <td><span class="optional">(optional)</span>
                        pageUrl</td>
                    <td>
                    
                    <p>
                      Matches if the condition of the UrlFilter are fulfilled for the top-level URL of the page.
                    </p>  <table class="innerTable">
                        <tr id="property-pageUrl-hostContains">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              hostContains</td>
                          <td>
                          
                          <p>
                            Matches if the host name of the URL contains a specified string. To test whether a host name component has a prefix 'foo', use hostContains: '.foo'. This matches 'www.foobar.com' and 'foo.com', because an implicit dot is added at the beginning of the host name. Similarly, hostContains can be used to match against component suffix ('foo.') and to exactly match against components ('.foo.'). Suffix- and exact-matching for the last components need to be done separately using hostSuffix, because no implicit dot is added at the end of the host name.
                          </p></td>
                        </tr><tr id="property-pageUrl-hostEquals">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              hostEquals</td>
                          <td>
                          
                          <p>
                            Matches if the host name of the URL is equal to a specified string.
                          </p></td>
                        </tr><tr id="property-pageUrl-hostPrefix">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              hostPrefix</td>
                          <td>
                          
                          <p>
                            Matches if the host name of the URL starts with a specified string.
                          </p></td>
                        </tr><tr id="property-pageUrl-hostSuffix">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              hostSuffix</td>
                          <td>
                          
                          <p>
                            Matches if the host name of the URL ends with a specified string.
                          </p></td>
                        </tr><tr id="property-pageUrl-pathContains">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              pathContains</td>
                          <td>
                          
                          <p>
                            Matches if the path segment of the URL contains a specified string.
                          </p></td>
                        </tr><tr id="property-pageUrl-pathEquals">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              pathEquals</td>
                          <td>
                          
                          <p>
                            Matches if the path segment of the URL is equal to a specified string.
                          </p></td>
                        </tr><tr id="property-pageUrl-pathPrefix">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              pathPrefix</td>
                          <td>
                          
                          <p>
                            Matches if the path segment of the URL starts with a specified string.
                          </p></td>
                        </tr><tr id="property-pageUrl-pathSuffix">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              pathSuffix</td>
                          <td>
                          
                          <p>
                            Matches if the path segment of the URL ends with a specified string.
                          </p></td>
                        </tr><tr id="property-pageUrl-queryContains">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              queryContains</td>
                          <td>
                          
                          <p>
                            Matches if the query segment of the URL contains a specified string.
                          </p></td>
                        </tr><tr id="property-pageUrl-queryEquals">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              queryEquals</td>
                          <td>
                          
                          <p>
                            Matches if the query segment of the URL is equal to a specified string.
                          </p></td>
                        </tr><tr id="property-pageUrl-queryPrefix">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              queryPrefix</td>
                          <td>
                          
                          <p>
                            Matches if the query segment of the URL starts with a specified string.
                          </p></td>
                        </tr><tr id="property-pageUrl-querySuffix">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              querySuffix</td>
                          <td>
                          
                          <p>
                            Matches if the query segment of the URL ends with a specified string.
                          </p></td>
                        </tr><tr id="property-pageUrl-urlContains">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              urlContains</td>
                          <td>
                          
                          <p>
                            Matches if the URL (without fragment identifier) contains a specified string. Port numbers are stripped from the URL if they match the default port number.
                          </p></td>
                        </tr><tr id="property-pageUrl-urlEquals">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              urlEquals</td>
                          <td>
                          
                          <p>
                            Matches if the URL (without fragment identifier) is equal to a specified string. Port numbers are stripped from the URL if they match the default port number.
                          </p></td>
                        </tr><tr id="property-pageUrl-urlMatches">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              urlMatches</td>
                          <td>
                          
                          <p>
                            Matches if the URL (without fragment identifier) matches a specified regular expression. Port numbers are stripped from the URL if they match the default port number. The regular expressions use the <a href="https://github.com/google/re2/blob/master/doc/syntax.txt">RE2 syntax</a>.
                          </p></td>
                        </tr><tr id="property-pageUrl-originAndPathMatches">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              originAndPathMatches</td>
                          <td>
                          
                          <p>
                            Matches if the URL without query segment and fragment identifier matches a specified regular expression. Port numbers are stripped from the URL if they match the default port number. The regular expressions use the <a href="https://github.com/google/re2/blob/master/doc/syntax.txt">RE2 syntax</a>.
                          </p></td>
                        </tr><tr id="property-pageUrl-urlPrefix">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              urlPrefix</td>
                          <td>
                          
                          <p>
                            Matches if the URL (without fragment identifier) starts with a specified string. Port numbers are stripped from the URL if they match the default port number.
                          </p></td>
                        </tr><tr id="property-pageUrl-urlSuffix">
                          <td>string</td>
                          <td><span class="optional">(optional)</span>
                              urlSuffix</td>
                          <td>
                          
                          <p>
                            Matches if the URL (without fragment identifier) ends with a specified string. Port numbers are stripped from the URL if they match the default port number.
                          </p></td>
                        </tr><tr id="property-pageUrl-schemes">
                          <td>array of string</td>
                          <td><span class="optional">(optional)</span>
                              schemes</td>
                          <td>
                          
                          <p>
                            Matches if the scheme of the URL is equal to any of the schemes specified in the array.
                          </p></td>
                        </tr><tr id="property-pageUrl-ports">
                          <td>array of integer or array of integer</td>
                          <td><span class="optional">(optional)</span>
                              ports</td>
                          <td>
                          
                          <p>
                            Matches if the port of the URL is contained in any of the specified port lists. For example <code>[80, 443, [1000, 1200]]</code> matches all requests on port 80, 443 and in the range 1000-1200.
                          </p></td>
                        </tr>
                      </table>
                    </td>
                  </tr><tr id="property-PageStateMatcher-css">
                    <td>array of string</td>
                    <td><span class="optional">(optional)</span>
                        css</td>
                    <td>
                    
                    <p>
                      Matches if all of the CSS selectors in the array match displayed elements in a frame with the same origin as the page's main frame.  All selectors in this array must be <a href="http://www.w3.org/TR/selectors4/#compound">compound selectors</a> to speed up matching.  Note that listing hundreds of CSS selectors or CSS selectors that match hundreds of times per page can still slow down web sites.
                    </p></td>
                  </tr><tr id="property-PageStateMatcher-isBookmarked">
                    <td>boolean</td>
                    <td><span class="optional">(optional)</span>
                        isBookmarked</td>
                    <td>
                    <p class="availability">
                      Since Chrome 45.
                    </p>
                    
                    <p>
                      Matches if the bookmarked state of the page is equal to the specified value. Requres the <a href='declare_permissions'>bookmarks permission</a>.
                    </p></td>
                  </tr>
              </table>
            </div>
            <div>
              <h3 id="type-ShowPageAction">ShowPageAction</h3>
              <table>
                <dd>Declarative event action that shows the extension's <a href=/extensions/pageAction>page action</a> while the corresponding conditions are met.  This action can be used without <a href="declare_permissions#host-permissions">host permissions</a>, but the extension must have a page action.  If the extension takes the <a href="activeTab.html">activeTab</a> permission, a click on the page action will grant access to the active tab.</dd>
              </table>
            </div>
            <div>
              <h3 id="type-SetIcon">SetIcon</h3>
              <p class="availability">
                Since Chrome 39.
              </p>
              <table>
                <dd>Declarative event action that sets the n-<abbr title="device-independent pixel">dip</abbr> square icon for the extension's <a href=/extensions/pageAction>page action</a> or <a href=/extensions/browserAction>browser action</a> while the corresponding conditions are met.  This action can be used without <a href="declare_permissions.html#host-permissions">host permissions</a>, but the extension must have  page or browser action.<p>Exactly one of <code>imageData</code> or <code>path</code> must be specified.  Both are dictionaries mapping a number of pixels to an image representation. The image representation in <code>imageData</code> is an<a href="https://developer.mozilla.org/en-US/docs/Web/API/ImageData">ImageData</a> object, for example from a <code>&lt;canvas></code> element, while the image representation in <code>path</code> is the path to an image file relative to the extension's manifest.  If <code>scale</code> screen pixels fit into a device-independent pixel, the <code>scale * n</code> icon will be used.  If that scale is missing, another image will be resized to the needed size.</dd>
                  <tr><th colspan="3" id="SetIcon-properties">properties</th></tr>
                  <tr id="property-SetIcon-imageData">
                    <td>ImageData or object</td>
                    <td><span class="optional">(optional)</span>
                        imageData</td>
                    <td>
                    
                    <p>
                      Either an ImageData object or a dictionary {size -> ImageData} representing icon to be set. If the icon is specified as a dictionary, the actual image to be used is chosen depending on screen's pixel density. If the number of image pixels that fit into one screen space unit equals <code>scale</code>, then image with size <code>scale</code> * n will be selected, where n is the size of the icon in the UI. At least one image must be specified. Note that 'details.imageData = foo' is equivalent to 'details.imageData = {'16': foo}'
                    </p></td>
                  </tr>
              </table>
            </div>
            <div>
              <h3 id="type-RequestContentScript">RequestContentScript</h3>
              <p class="availability">
                Since Chrome 38.
              </p>
              <table>
                <dd>Declarative event action that injects a content script. <p><b>WARNING:</b> This action is still experimental and is not supported on stable builds of Chrome.</p></dd>
                  <tr><th colspan="3" id="RequestContentScript-properties">properties</th></tr>
                  <tr id="property-RequestContentScript-css">
                    <td>array of string</td>
                    <td><span class="optional">(optional)</span>
                        css</td>
                    <td>
                    
                    <p>
                      Names of CSS files to be injected as a part of the content script.
                    </p></td>
                  </tr><tr id="property-RequestContentScript-js">
                    <td>array of string</td>
                    <td><span class="optional">(optional)</span>
                        js</td>
                    <td>
                    
                    <p>
                      Names of Javascript files to be injected as a part of the content script.
                    </p></td>
                  </tr><tr id="property-RequestContentScript-allFrames">
                    <td>boolean</td>
                    <td><span class="optional">(optional)</span>
                        allFrames</td>
                    <td>
                    
                    <p>
                      Whether the content script runs in all frames of the matching page, or only the top frame. Default is false.
                    </p></td>
                  </tr><tr id="property-RequestContentScript-matchAboutBlank">
                    <td>boolean</td>
                    <td><span class="optional">(optional)</span>
                        matchAboutBlank</td>
                    <td>
                    
                    <p>
                      Whether to insert the content script on about:blank and about:srcdoc. Default is false.
                    </p></td>
                  </tr>
              </table>
            </div>
          <h2 id="events">Events</h2>
            <div>
              <h3 id="event-onPageChanged">onPageChanged</h3>
              <div class="description">
                <p>Provides the <a href="events#declarative">Declarative Event API</a>
                consisting of <a href=/extensions/events#method-Event-addRules>addRules</a>,
                <a href=/extensions/events#method-Event-removeRules>removeRules</a>, and
                <a href=/extensions/events#method-Event-addRules>getRules</a>.</p>
                <div class="summary">
                  <code class="prettyprint">
                  chrome.declarativeContent.onPageChanged.addRules(<span>array of     <a href=/extensions/events#type-Rule>Rule</a> rules</span>, <span class="optional">function callback</span>)
                  </code>
                  <code class="prettyprint">
                  chrome.declarativeContent.onPageChanged.removeRules(<span class="optional">array of string ruleIdentifiers</span>, <span class="optional">function callback</span>)
                  </code>
                  <code class="prettyprint">
                  chrome.declarativeContent.onPageChanged.getRules(<span class="optional">array of string ruleIdentifiers</span>, <span>function callback</span>)
                  </code>
                </div>
                  <h4 title="">Supported conditions</h4>
                  <ul>
                    <div><li><a href=/extensions/declarativeContent#type-PageStateMatcher>declarativeContent.PageStateMatcher</a></li></div>
                  </ul>
                  <h4 title="">Supported actions</h4>
                  <ul>
                    <div><li><a href=/extensions/declarativeContent#type-RequestContentScript>declarativeContent.RequestContentScript</a></li></div><div><li><a href=/extensions/declarativeContent#type-SetIcon>declarativeContent.SetIcon</a></li></div><div><li><a href=/extensions/declarativeContent#type-ShowPageAction>declarativeContent.ShowPageAction</a></li></div>
                  </ul>
              </div>
            </div>
      </div>
    </section>
  </div>
</article>
    </main>
    </div>

    <footer id="gc-footer" role="contentinfo">
      <div class="g-section g-tpl-50-50 gc-container">
        <div class="g-unit g-first">
          <nav class="links">
            <a href="https://www.google.com/">Google</a><a href="https://developers.google.com/site-terms">Terms of Service</a><a href="http://www.google.com/intl/en/privacy/">Privacy Policy</a><a href="http://crbug.com/new" data-feedback>Report a content bug</a>
          </nav>
        </div>
        <div class="g-unit g-last">
          <div id="social-buttons">
            <div data-size="small" data-href="http://www.google.com/chrome" data-annotation="bubble" class="g-plusone"></div>
            <a rel="publisher" target="_blank" href="https://plus.google.com/+GoogleChromeDevelopers?prsrc=3" data-g-label="plus" data-g-event="nav-subfooter">Add us on <span class="element-invisible">Google+</span><img src="//ssl.gstatic.com/images/icons/gplus-16.png" data-g-label="plus" data-g-event="nav-subfooter" alt=""></a>
          </div>
        </div>
      </div>
    </footer>

    <script src="/static/js/fatnav.js"></script>
    <script src="/static/js/article.js"></script>
    <script src="/static/js/prettify.js"></script>
    <script src="/static/js/search.js"></script>
    <script src="//www.gstatic.com/feedback/api.js"></script>
    <script src="/static/js/site.js"></script>
  </body>
</html>
